@using Microsoft.AspNetCore.Identity
@using VfA.DataAccess.Repository.IRepository

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IUserClaimsService userClaimsService
<div class="dropdown-user-scroll scrollbar-outer">
    @if (User.Identity?.IsAuthenticated == true)
    {
        var _user = userClaimsService.GetUserClaims();
        <li>
            <div class="user-box">
                <div class="u-text">
                    <h4>Hello @_user.Name</h4>
                </div>
            </div>
        </li>

        <li>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">My Profile</a>
            <div class="dropdown-divider"></div>
            <form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <button id="logout" type="submit" class="dropdown-item">Logout</button>
            </form>
        </li>
    }
</div>